%%
%% Paul Landes  2018-05-06
%%

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{zenacro}[5/06/2018 Acronyms]

\usepackage{acro}
\acsetup{first-long-format=\itshape}
\usepackage{makeidx}

%% acronym commands

% define an acronym
% first-style = default | empty | square | short | long | reversed | footnote | sidenote | footnote-reversed|sidenote-reversed
% ex: \zzdefnamedclassacro[long]{nlp}{NLP}{natural language processing}{abbrev}
\newcommand{\zzdefnamedclassacro}[5][default]{%
\DeclareAcronym{#2}{
  short=#3,
  long=#4,
  first-style=#1,
  class=#5
}}

% ex: \zzdefnamedacro[long]{nlp}{NLP}{natural language processing}
%     creates command \nlp
\newcommand{\zzdefnamedacro}[4][default]{%
\zzdefnamedclassacro[#1]{#2}{#3}{#4}{abbrev}
\expandafter\newcommand\csname #2\endcsname{\ac{#2}}}

% create the acronym and commands with cap and plural forms:
% \<name>, \<names> (plural), \<namecap> (capital), \<namescap> (plural capital)
\newcommand{\zzdefexpandclassacro}[5][default]{%
\zzdefnamedclassacro[#1]{#2}{#3}{#4}{#5}%
\expandafter\newcommand\csname #2\endcsname{\index{#3}\ac{#2}}%
\expandafter\newcommand\csname #2s\endcsname{\index{#3}\acp{#2}}%
\expandafter\newcommand\csname #2cap\endcsname{\index{#3}\Acl{#2}}%
\expandafter\newcommand\csname #2scap\endcsname{\index{#3}\Aclp{#2}}}

% define an expanded acronym with cap and plural forms (see \zzdefexpandclassacro)
% ex: \zzdefexpandacro{tfidf}{TF/IDF}{term frequency/inverse document frequency}
\newcommand{\zzdefexpandacro}[4][default]{%
\zzdefexpandclassacro[#1]{#2}{#3}{#4}{abbrev}}

% define a named term (first occurrence is italic) with cap and plural forms
% (see \zzdefexpandclassacro)
% ex: \zzdefacro{dl}{deep learning}
\newcommand{\zzdefacro}[2]{%
\zzdefexpandclassacro[long]{#1}{#2}{#2}{term}}

% define a term (first occurrence is italic)
% ex: \zzdefacroterm{corpus}
\newcommand{\zzdefacroterm}[1]{%
\zzdefexpandclassacro[long]{#1}{#1}{#1}{term}}

% define a definition
% ex: \zzdefdef{role}{role}{proponent vs.\@ opponent}
\newcommand{\zzdefdef}[3]{%
\zzdefexpandclassacro{#1}{#2}{#3}{def}}


%% hyperlink URLs
\usepackage{zenhref}

% define an URL as a hyperlink in a footnote
% first-style = default | empty | square | short | long | reversed | footnote | sidenote | footnote-reversed|sidenote-reversed
% ex: \zzdefurlacro{idebatecorp}{idebate corpus}{https://idebate.org/debatabase}
%     creates command \idebatecorp
\newcommand{\zzdefurlacro}[3]{%
\DeclareAcronym{#1}{
  short=#2,
  long=\zzhref{#3},
  short-format=\normalfont,
  long-format=\normalfont,
  first-long-format=\normalfont,
  first-style=footnote,
  class=url
}%
\expandafter\newcommand\csname #1\endcsname{\ac{#1}}}
