%%
%% Paul Landes  2018-05-06
%%

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{zenslides}[4/30/2018 Slides]

%% beamer
\usepackage{xspace}

%% theme
\usepackage{pgfpages}
\usetheme{metropolis}
\usecolortheme{seahorse}

% academic
\logo{\includegraphics[height=1cm]{\theuniversitylogo}}
\setbeamercolor{title separator}{fg=blue}

%% biblatex
\newcommand{\zsaddbiblatex}[1]{%
  \usepackage[style=numeric,backend=biber]{biblatex}
  \addbibresource{#1}}

%% theme
\setbeamertemplate{navigation symbols}{}
\setbeamertemplate{bibliography item}{\insertbiblabel}
\setbeamertemplate{frametitle continuation}[from second]
\setbeamercolor{postit}{fg=black,bg=lightgray}

%% beamer env
\makeatletter
% make footer slide number, title, etc
\setbeamertemplate{footline}
{
  \leavevmode%
  \hbox{%
  \begin{beamercolorbox}[wd=.334\paperwidth,ht=2.25ex,dp=1ex,center]{section in head/foot}%
%    \usebeamerfont{author in head/foot}\insertshortauthor~~\beamer@ifempty{\insertshortinstitute}{}{(\insertshortinstitute)}
    \usebeamerfont{author in head/foot}\theauthor
  \end{beamercolorbox}%
  \begin{beamercolorbox}[wd=.334\paperwidth,ht=2.25ex,dp=1ex,center]{section in head/foot}%
%    \usebeamerfont{title in head/foot}\insertshorttitle
    \usebeamerfont{title in head/foot}\doctitle
  \end{beamercolorbox}%
  \begin{beamercolorbox}[wd=.34\paperwidth,ht=2.25ex,dp=1ex,right]{section in head/foot}%
    \usebeamerfont{date in head/foot}\insertshortdate{}\hspace*{2em}
    \insertframenumber{} / \inserttotalframenumber\hspace*{2ex} 
  \end{beamercolorbox}}%
  \vskip0pt%
}

%% references frame command
\newcommand{\zsrefframe}{%
\begin{frame}[t,noframenumbering,allowframebreaks]
  \frametitle{References}
  \renewcommand*{\bibfont}{\scriptsize}
  \printbibliography
\end{frame}}

%% quotes in boxes
\newenvironment{zsquote}{
\begin{beamercolorbox}[dp=0.3cm,rounded=true,shadow=true]{postit}%
\footnotesize%
\it%
\noindent%
}{\end{beamercolorbox}}


%% fix
% gets rid of the aweful spaced "References" at the bottom
\renewcommand{\section}[2]{}%

%% homegrown
\newcommand{\zssec}[1]{}%\section*{#1}}
